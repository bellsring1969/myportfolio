<?php get_header(); ?>
<main role="main" class="main">
  <section class="mv js-fadeup">
    <div class="inner">
      <h1 class="mv__ttl">My Portfolio</h1>
    </div>
  </section>
  <section id="profile" class="profile js-fadeup">
    <div class="inner">
      <h2 class="m-heading-01">PROFILE</h2>
      <div class="profile__txt">ポートフォリオをご覧いただき、<span class="common__indent">ありがとうございます。</span><span class="common__indent"><span class="common__indent">エンジニア兼コーダーの</span><span class="common__indent">T.S.と申します。</span></span><br>静的サイトのコーディング、<span class="common__indent"><span class="common__indent">CMSサイトおよびECサイトの構築を</span><span class="common__indent">得意としています。</span></span><br>SEとして働いた経験があり、<span class="common__indent">バックエンドの知識も豊富で、</span><span class="common__indent"><span class="common__indent">仕様の擦り合わせや工数管理も</span><span class="common__indent">得意としています。</span></span></div>
    </div>
  </section>
  <section id="skills" class="skills js-fadeup">
    <div class="inner">
      <h2 class="m-heading-01">SKILLS</h2>
      <div class="m-card-02__container">
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/photoshop.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">Photoshop</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/illustrator.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">Illustrator</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/xd.png" alt="Illustrator"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">Adobe XD</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/seo.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">SEO</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/html.png" alt="HTML"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">HTML</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/css.png" alt="CSS"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">CSS</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/bootstrap.png" alt="PHP"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">Boootstrap</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/sass.png" alt="Sass"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">Sass</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/gulp.png" alt="Gulp"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">Gulp</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/js.png" alt="JavaScript"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">JavaScript</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/jquery.png" alt="jQuery"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">jQuery</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/php.png" alt="PHP"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">PHP</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/wordpress.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">WordPress</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/python.png" alt="python"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">Python</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/mysql.png" alt="PHP"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">MySQL</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/postgre.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">PostgreSQL</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/apache.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">3</span>年</div>
          <div class="m-card-02__name">Apache</div>
        </div>
        <div class="m-card-02">
          <div class="m-card-02__icon"><img src="/assets/img/skills/github.png" alt="Photoshop"></div>
          <div class="m-card-02__experience">実務経験<span class="m-card-02__experience-num">2</span>年</div>
          <div class="m-card-02__name">Github</div>
        </div>
      </div>
    </div>
  </section>
  <section class="works js-fadeup"> 
    <div class="inner">
      <h1 class="m-heading-01">WORKS</h1>
      <?php
        $args = [
          'post_type' => array('works'),
          'posts_per_page' => 3
        ];
        $the_query = new WP_Query($args);
      ?>
      <?php if($the_query -> have_posts()): ?>
      <div class="m-card-01__container">
        <?php 
          while($the_query -> have_posts()): $the_query -> the_post(); 
          $index =  $the_query->current_post  + 1;
          $thumbnail_url = get_field('thumbnail_url');
          $client = get_field('client');
          $project_start = get_field('project_start');
          $project_start_date = date_create(get_field('project_start'));
          $project_start_formatted = date_format($project_start_date,'Y.m.d');
        ?>
        <div id="modal-btn-show-<?php echo $index; ?>" class="m-card-01">
          <div class="m-card-01__img"><img src="<?php echo $thumbnail_url ?>" alt=""></div>
          <ul class="m-list-01">
            <?php
              $terms = get_the_terms($post->ID, array('works_category'));
              foreach($terms as $term):
              echo '<li class="m-list-01__item"><span>'.$term->name.'</span></li>';
              endforeach;
            ?>
          </ul>
          <div class="m-card-01__ttl"><?php the_title(); ?></div>
          <div class="m-card-01__client"><?php echo $client; ?> 様</div>
          <div class="m-card-01__date"><time datetime="<?php echo $project_start ?>"><?php echo $project_start_formatted ?></time> 〜</div>
        </div>
        <?php endwhile; ?>
      </div>
      <?php endif; ?>
      <div class="m-btn-01"><a href="/works/">MORE</a></div>
    </div>
  </div>
</main>
<?php if($the_query -> have_posts()): ?>
<div id="modal-container" class="m-modal-01__container">
  <?php 
    while($the_query -> have_posts()): $the_query -> the_post(); 
    $index =  $the_query->current_post  + 1;
    $thumbnail_url = get_field('thumbnail_url');
    $client = get_field('client');
    $url = get_field('url');
    $organization = get_field('organization');
    $project_start = get_field('project_start');
    $project_start_date = date_create(get_field('project_start'));
    $project_start_formatted = date_format($project_start_date,'Y.m.d');
    if (get_field('project_end')) {
      $project_end = get_field('project_end');
      $project_end_date = date_create(get_field('project_end'));
      $project_end_formatted = date_format($project_end_date,'Y.m.d');
    } else {
      $project_end = '';
      $project_end_date = '';
      $project_end_formatted = ''; 
    }
    $phase = get_field('phase');
    $span = get_field('span');
    $tools = get_field('tools');
    $languages = get_field('languages');
  ?>
  <div id="modal-content-<?php echo $index; ?>" class="m-modal-01">
    <div class="inner">
      <div class="m-modal-01__scroll">
        <div class="m-modal-01__btn"></div>
        <div class="m-modal-01__lyt">
          <div class="m-modal-01__img"><img src="<?php echo $thumbnail_url ?>" alt=""></div>
          <ul class="m-list-01">
            <li class="m-list-01__item"><span><?php echo $term->name; ?></span></li>
          </ul>
          <div class="m-modal-01__ttl"><?php the_title(); ?></div>
          <div class="m-modal-01__client"><?php echo $client ?> 様</div>
        </div>
        <div class="m-modal-01__list-container">
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【URL】</dt>
            <dd class="m-modal-01__list-desc"><a href="<?php echo $url ?>" target="_blank"><?php echo $url ?></a></dd>
          </dl>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【体制】</dt>
            <dd class="m-modal-01__list-desc"><?php echo $organization ?></dd>
          </dl>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【プロジェクト期間】</dt>
            <dd class="m-modal-01__list-desc"><time datetime="<?php echo $project_start ?>"><?php echo $project_start_formatted ?></time> 〜 <time datetime="<?php echo $project_end ?>"><?php echo $project_end_formatted ?></time></dd>
          </dl>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【担当フェーズ】</dt>
            <dd class="m-modal-01__list-desc"><?php echo $phase ?></dd>
          </dl>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【担当フェーズの所要期間】</dt>
            <dd class="m-modal-01__list-desc"><?php echo $span ?></dd>
          </dl>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【使用ツール】</dt>
            <dd class="m-modal-01__list-desc"><?php echo $tools ?></dd>
          </dl>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【使用言語】</dt>
            <dd class="m-modal-01__list-desc"><?php echo $languages ?></dd>
          </dl>
          <?php if (get_field('comments')): $comments = get_field('comments'); ?>
          <dl class="m-modal-01__list">
            <dt class="m-modal-01__list-ttl">【コメント】</dt>
            <dd class="m-modal-01__list-desc"><?php echo $comments ?></dd>
          </dl>
          <?php endif; ?>
        </div>
      </div>
    </div>
  </div>
  <?php endwhile; ?>
</div>
<?php endif; ?>
<div id="modal-wrapper" class="m-modal-01__wrapper"></div>
<?php get_footer(); ?>